---
import { getEntry, render } from 'astro:content';

interface Props {
  topic: string;
}

const { topic } = Astro.props as Props;

let topicContent = null;
let Content = null;

try {
  topicContent = await getEntry('topics', topic);
  if (topicContent) {
    const rendered = await render(topicContent);
    Content = rendered.Content;
  }
} catch (error) {
  // Topic content not found, will show fallback
}
---

<article class="card card__intro">
  <div class="card__content flow">
    <h1>{topicContent?.data.title || `${topic} Chocolate Sculptures`}</h1>
    {Content ? <Content /> : <p>Explore our collection of {topic} themed chocolate sculptures.</p>}
  </div>
</article>
